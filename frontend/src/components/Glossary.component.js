import React, { useState } from 'react';
import '../styles/Glossary.css'; 
import { FlashcardArray } from 'react-quizlet-flashcard';
import { FaTableList } from "react-icons/fa6";
import { PiCards } from "react-icons/pi";
import Rating from './Rating.component';
import { LuRefreshCw } from "react-icons/lu";
import { MdLightbulbOutline } from "react-icons/md";

const Glossary = ({ learningObject }) => {
    const glossary = learningObject.content.glossary.vertexAI;
    // console.log(glossary);
    // const [view, setView] = useState('table');
    const [showTable, setShowTable] = useState(false);

    // const toggleView = () => {
    //     setView(view === 'table' ? 'flashcards' : 'table');
    // };

    const showTableDefinitions = () => {
        setShowTable(true);
    }

    const showFlashcardDefinitions = () => {
        setShowTable(false);
    }


    return (
        <div className="glossary-div">

            <div className="glossary-header">
                <div className={`glossary-toggle ${showTable ? 'active' : ''}`}>
                    <button className={`glossary-button ${showTable ? 'active' : ''}`} onClick={showTableDefinitions}>
                        <FaTableList/>
                    </button>
                    <button className={`glossary-button ${!showTable ? 'active' : ''}`} onClick={showFlashcardDefinitions}>
                        <PiCards/> 
                    </button>
                </div>
            </div>
            <div className="glossary-title-container">
                <LuRefreshCw className="glossary-icon"/>
                <h1 className="glossary-title">Glossary</h1>
            </div>
            <div className="ai-options">
                < MdLightbulbOutline className="lightbulb"/>
                <p className='ai-options-text'>This glossary is generated by AI.</p>
            </div>
            {showTable ? (
                <div>
                    {glossary.map((item, index) => (
                        <div key={index} className="glossary-item">
                            <div className="glossary-term">{item.term}</div>
                            <div className="glossary-definition">{item.definition}</div>
                        </div>
                    ))}
                </div>
            ) : (
                <div className='flashcard-container'>
                    <FlashcardArray 
                        cards={glossary.map((item) => ({
                            frontHTML: item.term,
                            backHTML: item.definition,
                        }))} 
                        frontContentStyle={{
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            fontSize: "1.5rem",
                          }}
                        backContentStyle={{
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            textAlign: "center",
                        }}/>
                </div>
            )}
            {/* <div className='toggle-header'> */}
                {/* <button onClick={toggleView} className="toggle-button">
                    {view === 'table' ? <PiCards/> : <FaTableList/>}
                </button> */}
            {/* </div> */}
            <Rating id={learningObject._id}/>
        </div>
    );
}

export default Glossary; 